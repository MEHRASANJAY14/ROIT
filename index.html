<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ROJBP Business Dashboard</title>

<style>
body{
margin:0;
font-family:Segoe UI;
background:#f4f6f9;
transition:0.3s;
}

.dark{
background:#1e1e1e;
color:white;
}

.header{
background:#004d40;
color:white;
padding:18px;
text-align:center;
font-size:20px;
font-weight:bold;
position:relative;
}

.toggle{
position:absolute;
right:15px;
top:15px;
background:white;
color:#004d40;
border-radius:20px;
padding:4px 10px;
font-size:12px;
cursor:pointer;
}

.summary{
display:grid;
grid-template-columns:1fr 1fr;
gap:10px;
padding:15px;
}

.box{
background:white;
padding:15px;
border-radius:15px;
box-shadow:0 4px 10px rgba(0,0,0,0.1);
text-align:center;
font-weight:bold;
}

.dark .box{
background:#333;
color:white;
}

.grid{
display:grid;
grid-template-columns:1fr 1fr;
gap:12px;
padding:15px;
}

.card{
background:#004d40;
color:white;
padding:20px;
border-radius:18px;
text-align:center;
font-weight:bold;
cursor:pointer;
transition:0.2s;
}

.card:hover{
transform:scale(1.05);
}

.alert{
background:#ffebee;
color:red;
padding:12px;
margin:10px 15px;
border-radius:10px;
font-size:13px;
}

.footer{
text-align:center;
padding:10px;
font-size:12px;
color:#666;
}
</style>
</head>

<body>

<div class="header">
ROJBP Regional Dashboard
<span class="toggle" onclick="toggleDark()">Dark</span>
</div>

<div class="summary">
<div class="box">Total Deposit<br><span id="totDeposit">0</span></div>
<div class="box">Total Advance<br><span id="totAdvance">0</span></div>
<div class="box">Total CASA<br><span id="totCasa">0</span></div>
<div class="box">Total NPA<br><span id="totNpa">0</span></div>
</div>

<div class="alert" id="nonReport">
⚠ Non Reporting Branches: Loading...
</div>

<div class="grid">
<div class="card" onclick="go('report.html')">Daily Entry</div>
<div class="card" onclick="go('dashboard.html')">Branch Wise</div>
<div class="card" onclick="go('documents.html')">Documents</div>
<div class="card" onclick="go('login.html')">Branch Login</div>
</div>

<div class="footer">
© ROJBP Monitoring System
</div>

<script>

function go(page){
window.location=page;
}

function toggleDark(){
document.body.classList.toggle("dark");
}

/* DEMO DATA CALCULATION (Replace with Live API Later) */
let totalDeposit=0;
let totalAdvance=0;
let totalCasa=0;
let totalNpa=0;

let branches=["Jabalpur Main","Sihora","Katni","Narsinghpur","Mandla"];

branches.forEach(function(b){
let data=localStorage.getItem("daily_"+b);
if(data){
let d=JSON.parse(data);
totalDeposit+=Number(d.deposit||0);
totalAdvance+=Number(d.advance||0);
totalCasa+=Number(d.casa||0);
totalNpa+=Number(d.npa||0);
}
});

totDeposit.innerHTML=totalDeposit;
totAdvance.innerHTML=totalAdvance;
totCasa.innerHTML=totalCasa;
totNpa.innerHTML=totalNpa;

/* Non Reporting */
let reported=[];
branches.forEach(function(b){
if(localStorage.getItem("daily_"+b)){
reported.push(b);
}
});

let notReported=branches.filter(b=>!reported.includes(b));
nonReport.innerHTML="⚠ Non Reporting Branches: "+notReported.join(", ");

</script>

</body>
</html>
